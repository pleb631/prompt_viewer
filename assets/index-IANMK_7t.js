import{d as M,r as A,c as w,o as r,w as o,a as p,b as H,e as J,t as V,f as c,g as t,E as K,h as k,u as P,i as U,j as I,_ as N,k as n,l as Q,m as W,F as y,n as X,p as C,q as Y,s as Z,v as ee,x as ae,y as le}from"./index-Owzsce4M.js";const oe={class:"header"},ne=M({__name:"index",props:{img_info:{},displayImg:{type:Boolean},base_url:{},show_img:{type:Function}},setup(S){function _(l){l&&navigator.clipboard.writeText(l).then(()=>{I.success("已复制到剪切板")}).catch(()=>{I.error("复制失败，请手动复制")})}return(l,u)=>{const v=K,m=A("lazy");return r(),w(P(U),null,{footer:o(()=>[t(v,{onClick:u[1]||(u[1]=i=>_(l.img_info.tag))},{default:o(()=>[k(V(l.img_info.tag),1)]),_:1})]),default:o(()=>[p("div",oe,V(l.img_info.name),1),l.displayImg&&l.img_info.img_url?H((r(),c("img",{key:0,style:{width:"100%"},onClick:u[0]||(u[0]=i=>l.show_img(l.img_info))},null,512)),[[m,l.base_url+l.img_info.img_url]]):J("",!0)]),_:1})}}}),se=N(ne,[["__scopeId","data-v-11a11d07"]]),te={class:"responsive-layout"},ue={class:"my-2 group"},ie={class:"my-2 group"},re={class:"toolbar"},me=["src"],E="https://huggingface.co/datasets/pleb631/prompt/resolve/main/",de=M({__name:"index",setup(S){const _=n(4),l=n(!0),u=n({}),v=n([]),m=n(""),i=n({name:"",groups:[]}),g=n([]),d=n(""),f=n({name:"",tags:[]}),h=n(!1);function j(s){m.value=s,i.value=u.value.find(e=>e.name===s),g.value=i.value.groups.map(e=>e.name),d.value=g.value[0],f.value=i.value.groups.find(e=>e.name===d.value)}function F(s){d.value=s,f.value=i.value.groups.find(e=>e.name===s)}Q(async()=>{const s=await fetch(`${E}prompt_tags.json`);u.value=await s.json(),v.value=u.value.map(e=>e.name),m.value=v.value[0],i.value=u.value.find(e=>e.name===m.value),g.value=i.value.groups.map(e=>e.name),d.value=g.value[0],f.value=i.value.groups.find(e=>e.name===d.value)});const x=n({img_url:"",name:"",tag:""});function G(s){x.value=s,h.value=!0}function R(){h.value=!1}return(s,e)=>{const B=Y,$=X,D=U,T=Z,z=ee,q=le,L=ae,O=W;return r(),c(y,null,[p("div",te,[t(D,{class:"aside-card"},{default:o(()=>[p("div",ue,[t($,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a)},{default:o(()=>[(r(!0),c(y,null,C(v.value,a=>(r(),w(B,{key:a,value:a,onChange:b=>j(a)},{default:o(()=>[k(V(a),1)]),_:2},1032,["value","onChange"]))),128))]),_:1},8,["modelValue"])]),p("div",ie,[t($,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=a=>d.value=a)},{default:o(()=>[(r(!0),c(y,null,C(g.value,a=>(r(),w(B,{key:a,value:a,onChange:b=>F(a)},{default:o(()=>[k(V(a),1)]),_:2},1032,["value","onChange"]))),128))]),_:1},8,["modelValue"])])]),_:1}),t(D,{class:"main-card"},{default:o(()=>[p("div",re,[t(T,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value=a),"active-text":"Open","inactive-text":"Close"},null,8,["modelValue"]),t(z,{modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=a=>_.value=a),min:1,max:6,step:1,"show-input":"",style:{"max-width":"300px",margin:"10px 0"}},null,8,["modelValue"])]),t(L,{gutter:20},{default:o(()=>[(r(!0),c(y,null,C(f.value.tags,(a,b)=>(r(),w(q,{key:b,xs:24,sm:Math.min(24,Math.ceil(24/_.value)),md:Math.ceil(24/_.value)},{default:o(()=>[t(se,{img_info:a,base_url:E+"small/","display-img":l.value,show_img:G},null,8,["img_info","base_url","display-img"])]),_:2},1032,["sm","md"]))),128))]),_:1})]),_:1})]),t(O,{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=a=>h.value=a),title:"高清预览",onClosed:R},{default:o(()=>[p("img",{src:E+"regular/"+x.value.img_url+"?t="+Date.now(),style:{width:"100%"}},null,8,me)]),_:1},8,["modelValue"])],64)}}}),pe=N(de,[["__scopeId","data-v-7d84a04f"]]);export{pe as default};
