import{d as M,r as H,c as w,o as r,w as o,a as p,b as J,e as K,t as V,f as c,g as s,E as O,h as k,u as P,i as U,j as I,_ as N,k as n,l as Q,m as W,F as y,n as X,p as C,q as Y,s as Z,v as ee,x as ae,y as le}from"./index-DxrGsoxZ.js";const oe={class:"header"},ne=M({__name:"index",props:{img_info:{},displayImg:{type:Boolean},base_url:{},show_img:{type:Function}},setup(S){function _(l){l&&navigator.clipboard.writeText(l).then(()=>{I.success("已复制到剪切板")}).catch(()=>{I.error("复制失败，请手动复制")})}return(l,u)=>{const v=O,m=H("lazy");return r(),w(P(U),null,{footer:o(()=>[s(v,{class:"btn",onClick:u[1]||(u[1]=i=>_(l.img_info.tag)),title:l.img_info.tag},{default:o(()=>[k(V(l.img_info.tag),1)]),_:1},8,["title"])]),default:o(()=>[p("div",oe,V(l.img_info.name),1),l.displayImg&&l.img_info.img_url?J((r(),c("img",{key:0,style:{width:"100%"},onClick:u[0]||(u[0]=i=>l.show_img(l.img_info))},null,512)),[[m,l.base_url+l.img_info.img_url]]):K("",!0)]),_:1})}}}),te=N(ne,[["__scopeId","data-v-d9da73b2"]]),se={class:"responsive-layout"},ue={class:"my-2 group"},ie={class:"my-2 group"},re={class:"toolbar"},me=["src"],E="https://huggingface.co/datasets/pleb631/prompt/resolve/main/",de=M({__name:"index",setup(S){const _=n(4),l=n(!0),u=n({}),v=n([]),m=n(""),i=n({name:"",groups:[]}),g=n([]),d=n(""),f=n({name:"",tags:[]}),h=n(!1);function j(t){m.value=t,i.value=u.value.find(e=>e.name===t),g.value=i.value.groups.map(e=>e.name),d.value=g.value[0],f.value=i.value.groups.find(e=>e.name===d.value)}function F(t){d.value=t,f.value=i.value.groups.find(e=>e.name===t)}Q(async()=>{const t=await fetch(`${E}prompt_tags.json`);u.value=await t.json(),v.value=u.value.map(e=>e.name),m.value=v.value[0],i.value=u.value.find(e=>e.name===m.value),g.value=i.value.groups.map(e=>e.name),d.value=g.value[0],f.value=i.value.groups.find(e=>e.name===d.value)});const B=n({img_url:"",name:"",tag:""});function G(t){B.value=t,h.value=!0}function R(){h.value=!1}return(t,e)=>{const $=Y,x=X,D=U,T=Z,z=ee,q=le,L=ae,A=W;return r(),c(y,null,[p("div",se,[s(D,{class:"aside-card"},{default:o(()=>[p("div",ue,[s(x,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a)},{default:o(()=>[(r(!0),c(y,null,C(v.value,a=>(r(),w($,{key:a,value:a,onChange:b=>j(a)},{default:o(()=>[k(V(a),1)]),_:2},1032,["value","onChange"]))),128))]),_:1},8,["modelValue"])]),p("div",ie,[s(x,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=a=>d.value=a)},{default:o(()=>[(r(!0),c(y,null,C(g.value,a=>(r(),w($,{key:a,value:a,onChange:b=>F(a)},{default:o(()=>[k(V(a),1)]),_:2},1032,["value","onChange"]))),128))]),_:1},8,["modelValue"])])]),_:1}),s(D,{class:"main-card"},{default:o(()=>[p("div",re,[s(T,{modelValue:l.value,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value=a),"active-text":"查看图片"},null,8,["modelValue"]),s(z,{modelValue:_.value,"onUpdate:modelValue":e[3]||(e[3]=a=>_.value=a),min:1,max:6,step:1,"show-input":"",style:{"max-width":"300px",margin:"10px 0"}},null,8,["modelValue"])]),s(L,{gutter:20},{default:o(()=>[(r(!0),c(y,null,C(f.value.tags,(a,b)=>(r(),w(q,{key:b,xs:24,sm:Math.min(24,Math.ceil(24/_.value)),md:Math.ceil(24/_.value)},{default:o(()=>[s(te,{img_info:a,base_url:E+"small/","display-img":l.value,show_img:G},null,8,["img_info","base_url","display-img"])]),_:2},1032,["sm","md"]))),128))]),_:1})]),_:1})]),s(A,{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=a=>h.value=a),title:"高清预览",onClosed:R},{default:o(()=>[p("img",{src:E+"regular/"+B.value.img_url+"?t="+Date.now(),style:{width:"100%"}},null,8,me)]),_:1},8,["modelValue"])],64)}}}),pe=N(de,[["__scopeId","data-v-e0df6752"]]);export{pe as default};
